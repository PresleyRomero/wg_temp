{"version":3,"sources":["../../../widgets/UrlButton/Widget.js"],"names":["define","declare","lang","BaseWidget","WidgetManager","clazz","name","baseClass","isOpening","onOpen","ll","config","addCenterParameter","map","extent","getCenter","getLatitude","getLongitude","window","open","LinkUrl","setTimeout","hitch","getInstance","closeWidget"],"mappings":"AAAA;AACA;AACA;;AAEAA,OAAO,CACH,oBADG,EAEH,iBAFG,EAGH,iBAHG,EAIH,oBAJG,CAAP,EAME,UACEC,OADF,EAEEC,IAFF,EAGEC,UAHF,EAIEC,aAJF,EAIiB;AACf,MAAIC,QAAQJ,QAAQ,CAACE,UAAD,CAAR,EAAsB;;AAEhCG,UAAM,WAF0B;AAGhCC,eAAW,kBAHqB;AAIhCC,eAAW,KAJqB;;AAMhCC,YAAQ,kBAAU;AAChB,UAAG,CAAC,KAAKD,SAAT,EAAmB;AACjB,aAAKA,SAAL,GAAiB,IAAjB;AACV;AACU,YAAIE,EAAJ;AACA,YAAG,KAAKC,MAAL,CAAYC,kBAAf,EAAkC;AAChCF,eAAK,KAAKG,GAAL,CAASC,MAAT,CAAgBC,SAAhB,GAA4BC,WAA5B,KAA4C,GAA5C,GAAkD,KAAKH,GAAL,CAASC,MAAT,CAAgBC,SAAhB,GAA4BE,YAA5B,EAAvD;AACD;AACX;AACA;AACU,YAAGP,EAAH,EAAM;AACJQ,iBAAOC,IAAP,CAAY,KAAKR,MAAL,CAAYS,OAAZ,GAAsB,MAAtB,GAA+BV,EAA3C,EAA+C,QAA/C;AACD,SAFD,MAEK;AACHQ,iBAAOC,IAAP,CAAY,KAAKR,MAAL,CAAYS,OAAxB,EAAiC,QAAjC;AACD;AACX;AACUC,mBAAWnB,KAAKoB,KAAL,CAAW,IAAX,EAAiB,YAAU;AACpC,eAAKd,SAAL,GAAiB,KAAjB;AACAJ,wBAAcmB,WAAd,GAA4BC,WAA5B,CAAwC,IAAxC;AACD,SAHU,CAAX,EAGI,GAHJ;AAID;AACF;AA3B+B,GAAtB,CAAZ;AA6BA,SAAOnB,KAAP;AACD,CAzCH","file":"Widget.js","sourcesContent":["///////////////////////////////////////////////////////////////////////////\r\n// Copyright Â© 2016 Robert Scheitlin. All Rights Reserved.\r\n///////////////////////////////////////////////////////////////////////////\r\n\r\ndefine([\r\n    'dojo/_base/declare',\r\n    'dojo/_base/lang',\r\n    'jimu/BaseWidget',\r\n    'jimu/WidgetManager'\r\n  ],\r\n  function(\r\n    declare,\r\n    lang,\r\n    BaseWidget,\r\n    WidgetManager) {\r\n    var clazz = declare([BaseWidget], {\r\n\r\n      name: 'UrlButton',\r\n      baseClass: 'widget-urlbutton',\r\n      isOpening: false,\r\n\r\n      onOpen: function(){\r\n        if(!this.isOpening){\r\n          this.isOpening = true;\r\n//RJS ADD\r\n          var ll;\r\n          if(this.config.addCenterParameter){\r\n            ll = this.map.extent.getCenter().getLatitude() + \",\" + this.map.extent.getCenter().getLongitude();\r\n          }\r\n//RJS End Add\r\n//RJS Edit\r\n          if(ll){\r\n            window.open(this.config.LinkUrl + \"?ll=\" + ll, \"_blank\");\r\n          }else{\r\n            window.open(this.config.LinkUrl, \"_blank\");\r\n          }\r\n//RJS End Edit\r\n          setTimeout(lang.hitch(this, function(){\r\n            this.isOpening = false;\r\n            WidgetManager.getInstance().closeWidget(this);\r\n          }), 300);\r\n        }\r\n      }\r\n    });\r\n    return clazz;\r\n  });\r\n"]}